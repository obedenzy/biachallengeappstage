"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/submit-form";
exports.ids = ["pages/api/submit-form"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "(api)/./pages/api/submit-form.js":
/*!**********************************!*\
  !*** ./pages/api/submit-form.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://xfztyobcoebcckcneaxg.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhmenR5b2Jjb2ViY2NrY25lYXhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgyMTYxOTMsImV4cCI6MjA1Mzc5MjE5M30.AEzek4wb6_AJWKUFlCPkCPUGZbhkumwq0oYvZIXM9y4\");\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const { selectedFullName , answers  } = req.body;\n        if (!selectedFullName) {\n            return res.status(400).json({\n                error: \"Full name is required\"\n            });\n        }\n        if (Object.values(answers).some((answer)=>answer === \"\")) {\n            return res.status(400).json({\n                error: \"All questions must be answered\"\n            });\n        }\n        const today = new Date().toISOString().split(\"T\")[0];\n        try {\n            // Check for existing record (case-insensitive for full_name)\n            const { data: existingRecords , error: existingError  } = await supabase.from(\"biaformtable\").select(\"id\").eq(\"full_name\", selectedFullName).gte(\"created_at\", today);\n            if (existingError) {\n                throw existingError;\n            }\n            const mappedData = {\n                full_name: selectedFullName,\n                hydration_goals: answers.hydrationGoals,\n                diet_nutrition: answers.dietNutrition,\n                study_read: answers.studyRead,\n                daily_progress_photo: answers.dailyProgressPhoto,\n                mindfulness_practice: answers.mindfulnessPractice,\n                abstinence: answers.abstinence,\n                connection_networking: answers.connectionNetworking\n            };\n            if (existingRecords && existingRecords.length > 0) {\n                // Update existing record\n                const existingRecordId = existingRecords[0].id;\n                const { error: updateError  } = await supabase.from(\"biaformtable\").update(mappedData).eq(\"id\", existingRecordId);\n                if (updateError) {\n                    throw updateError;\n                }\n                res.status(200).json({\n                    message: \"Record updated successfully\"\n                });\n            } else {\n                // Insert new record\n                const { error: insertError  } = await supabase.from(\"biaformtable\").insert([\n                    mappedData\n                ]);\n                if (insertError) {\n                    throw insertError;\n                }\n                res.status(201).json({\n                    message: \"Record inserted successfully\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Error submitting form:\", error);\n            res.status(500).json({\n                error: \"Error submitting form\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUNMLG9CQUFvQjtnQkFDcEIsTUFBTSxFQUFFcEMsS0FBSyxFQUFFcUMsV0FBVyxHQUFFLEdBQUcsTUFBTW5ELFFBQVEsQ0FDMUMwQixJQUFJLENBQUMsY0FBYyxDQUFDLENBQ3BCMEIsTUFBTSxDQUFDO29CQUFDdEIsVUFBVTtpQkFBQyxDQUFDO2dCQUV2QixJQUFJcUIsV0FBVyxFQUFFO29CQUNmLE1BQU1BLFdBQVcsQ0FBQztnQkFDcEIsQ0FBQztnQkFDRDVDLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7b0JBQUVxQyxPQUFPLEVBQUUsOEJBQThCO2lCQUFFLENBQUMsQ0FBQztZQUNwRSxDQUFDO1FBQ0gsRUFBRSxPQUFPcEMsS0FBSyxFQUFFO1lBQ2R1QyxPQUFPLENBQUN2QyxLQUFLLENBQUMsd0JBQXdCLEVBQUVBLEtBQUssQ0FBQyxDQUFDO1lBQy9DUCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFQyxLQUFLLEVBQUUsdUJBQXVCO2FBQUUsQ0FBQyxDQUFDO1FBQzNELENBQUM7SUFDSCxPQUFPO1FBQ0xQLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRUMsS0FBSyxFQUFFLG9CQUFvQjtTQUFFLENBQUMsQ0FBQztJQUN4RCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2h5ZHJhdGlvbi1nb2Fscy8uL3BhZ2VzL2FwaS9zdWJtaXQtZm9ybS5qcz85NGM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwsXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICBjb25zdCB7IHNlbGVjdGVkRnVsbE5hbWUsIGFuc3dlcnMgfSA9IHJlcS5ib2R5O1xuXG4gICAgaWYgKCFzZWxlY3RlZEZ1bGxOYW1lKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0Z1bGwgbmFtZSBpcyByZXF1aXJlZCcgfSk7XG4gICAgfVxuICAgIGlmIChPYmplY3QudmFsdWVzKGFuc3dlcnMpLnNvbWUoYW5zd2VyID0+IGFuc3dlciA9PT0gJycpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnQWxsIHF1ZXN0aW9ucyBtdXN0IGJlIGFuc3dlcmVkJyB9KTtcbiAgICB9XG5cblxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIHJlY29yZCAoY2FzZS1pbnNlbnNpdGl2ZSBmb3IgZnVsbF9uYW1lKVxuICAgICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1JlY29yZHMsIGVycm9yOiBleGlzdGluZ0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYmlhZm9ybXRhYmxlJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ2Z1bGxfbmFtZScsIHNlbGVjdGVkRnVsbE5hbWUpXG4gICAgICAgIC5ndGUoJ2NyZWF0ZWRfYXQnLCB0b2RheSk7XG5cbiAgICAgIGlmIChleGlzdGluZ0Vycm9yKSB7XG4gICAgICAgIHRocm93IGV4aXN0aW5nRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1hcHBlZERhdGEgPSB7XG4gICAgICAgIGZ1bGxfbmFtZTogc2VsZWN0ZWRGdWxsTmFtZSxcbiAgICAgICAgaHlkcmF0aW9uX2dvYWxzOiBhbnN3ZXJzLmh5ZHJhdGlvbkdvYWxzLFxuICAgICAgICBkaWV0X251dHJpdGlvbjogYW5zd2Vycy5kaWV0TnV0cml0aW9uLFxuICAgICAgICBzdHVkeV9yZWFkOiBhbnN3ZXJzLnN0dWR5UmVhZCxcbiAgICAgICAgZGFpbHlfcHJvZ3Jlc3NfcGhvdG86IGFuc3dlcnMuZGFpbHlQcm9ncmVzc1Bob3RvLFxuICAgICAgICBtaW5kZnVsbmVzc19wcmFjdGljZTogYW5zd2Vycy5taW5kZnVsbmVzc1ByYWN0aWNlLFxuICAgICAgICBhYnN0aW5lbmNlOiBhbnN3ZXJzLmFic3RpbmVuY2UsXG4gICAgICAgIGNvbm5lY3Rpb25fbmV0d29ya2luZzogYW5zd2Vycy5jb25uZWN0aW9uTmV0d29ya2luZyxcbiAgICAgIH07XG5cbiAgICAgIGlmIChleGlzdGluZ1JlY29yZHMgJiYgZXhpc3RpbmdSZWNvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHJlY29yZFxuICAgICAgICBjb25zdCBleGlzdGluZ1JlY29yZElkID0gZXhpc3RpbmdSZWNvcmRzWzBdLmlkO1xuICAgICAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnYmlhZm9ybXRhYmxlJylcbiAgICAgICAgICAudXBkYXRlKG1hcHBlZERhdGEpXG4gICAgICAgICAgLmVxKCdpZCcsIGV4aXN0aW5nUmVjb3JkSWQpO1xuXG4gICAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgIHRocm93IHVwZGF0ZUVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1JlY29yZCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbnNlcnQgbmV3IHJlY29yZFxuICAgICAgICBjb25zdCB7IGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnYmlhZm9ybXRhYmxlJylcbiAgICAgICAgICAuaW5zZXJ0KFttYXBwZWREYXRhXSk7XG5cbiAgICAgICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgaW5zZXJ0RXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiAnUmVjb3JkIGluc2VydGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgZm9ybTonLCBlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3Igc3VibWl0dGluZyBmb3JtJyB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzZWxlY3RlZEZ1bGxOYW1lIiwiYW5zd2VycyIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJPYmplY3QiLCJ2YWx1ZXMiLCJzb21lIiwiYW5zd2VyIiwidG9kYXkiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImRhdGEiLCJleGlzdGluZ1JlY29yZHMiLCJleGlzdGluZ0Vycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiZ3RlIiwibWFwcGVkRGF0YSIsImZ1bGxfbmFtZSIsImh5ZHJhdGlvbl9nb2FscyIsImh5ZHJhdGlvbkdvYWxzIiwiZGlldF9udXRyaXRpb24iLCJkaWV0TnV0cml0aW9uIiwic3R1ZHlfcmVhZCIsInN0dWR5UmVhZCIsImRhaWx5X3Byb2dyZXNzX3Bob3RvIiwiZGFpbHlQcm9ncmVzc1Bob3RvIiwibWluZGZ1bG5lc3NfcHJhY3RpY2UiLCJtaW5kZnVsbmVzc1ByYWN0aWNlIiwiYWJzdGluZW5jZSIsImNvbm5lY3Rpb25fbmV0d29ya2luZyIsImNvbm5lY3Rpb25OZXR3b3JraW5nIiwibGVuZ3RoIiwiZXhpc3RpbmdSZWNvcmRJZCIsImlkIiwidXBkYXRlRXJyb3IiLCJ1cGRhdGUiLCJtZXNzYWdlIiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/submit-form.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/submit-form.js"));
module.exports = __webpack_exports__;

})();